(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{dA4c:function(n,t,e){"use strict";e.r(t),e.d(t,"daySevenPartTwo",function(){return r});var o=e("2tT0");function r(n){const t=new o.a(n),e=/^([a-z]+) ([a-z]+) bags contain (.*)\.$/,r=/^(\d+) ([a-z]+) ([a-z]+) bags?$/;class c{constructor(n,t){this.bagType=n,this.contents=t}}function s(n,t){return`${n} ${t}`}const i=t.readLineByLine(n=>{const t=n.match(e);if(!t)throw new Error("line dit not match\n"+n);const[,o,i,a]=t;if("no other bags"===a)return new c(s(o,i),{});const u=a.split(", ").reduce((n,t)=>{const e=t.match(r);if(!e)throw new Error("Inventroy did not match\n"+t);const[,o,c,i]=e;return n[s(c,i)]=Number(o),n},{});return new c(s(o,i),u)}),a=new Map(i.map(n=>[n.bagType,n]));function u(n,t="shiny gold"){return t in n.contents||Object.keys(n.contents).some(n=>{const e=a.get(n);if(!e)throw new Error("Did not manage to find bag\n"+n);return u(e,t)})}return i.reduce((n,t)=>u(t)?n+1:n,0),function n(t){let e=0;for(const[o,r]of Object.entries(t.contents)){const t=a.get(o);if(!t)throw new Error("Did not manage to find bag\n"+o);e+=r+r*n(t)}return e}(a.get("shiny gold"))}}}]);