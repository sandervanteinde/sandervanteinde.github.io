(window.webpackJsonp=window.webpackJsonp||[]).push([[60],{sFHL:function(t,e,n){"use strict";n.r(e),n.d(e,"daySeventeenPartOne",function(){return s});var i=n("2tT0");function s(t){function e(t,e,n){let i=t.get(e);return void 0===i&&(i=n(),t.set(e,i)),i}class n{constructor(){this._min=Number.MAX_SAFE_INTEGER,this._max=Number.MIN_SAFE_INTEGER}get min(){return this._min}get max(){return this._max}update(t){this._min=Math.min(t,this._min),this._max=Math.max(t,this._max)}}const s=new i.a(t).readLineByLine((t,e)=>t.split("").map((t,e)=>({active:"#"===t,index:e})).filter((t,e,n)=>t.active).map(t=>[e,t.index,0])).reduce((t,e)=>[...t,...e],[]),a=new class{constructor(){this._gridEntries=new Map,this._surroundingNodes=new Map,this._changes=new Map,this._xMinMax=new n,this._yMinMax=new n,this._zMinMax=new n}addActivePoint(...t){for(const e of t)this.setCoordinateValue(this._changes,e,!0)}applyChanges(){const t=this._changes;this._changes=new Map;let e=[0,0,0];for(const[n,i]of t){e[0]=n;for(const[t,n]of i){e[1]=t;for(const[t,i]of n)e[2]=t,this.getNestedValue(this._gridEntries,e)!==i&&(this.setCoordinateValue(this._gridEntries,e,i),this.applyCoordinateToMinMaxFields(e),this.updateSurroundingNodes(e,i?1:-1))}}}updateSurroundingNodes([t,n,i],s){for(let a=-1;a<=1;a++){const o=e(this._surroundingNodes,t+a,()=>new Map);for(let t=-1;t<=1;t++){const r=e(o,n+t,()=>new Map);for(let n=-1;n<=1;n++){if(0===n&&0===t&&0===a)continue;const o=e(r,i+n,()=>0);r.set(i+n,o+s)}}}}cycle(){var t;const{min:e,max:n}=this._xMinMax,{min:i,max:s}=this._yMinMax,{min:a,max:o}=this._zMinMax;let r=[0,0,0];for(let d=e-1;d<=n;d++){r[0]=d;for(let e=i-1;e<=s;e++){r[1]=e;for(let e=a-1;e<=o;e++){r[2]=e;const n=null!==(t=this.getNestedValue(this._surroundingNodes,r))&&void 0!==t?t:0;this.getNestedValue(this._gridEntries,r)?(n<2||n>3)&&this.setCoordinateValue(this._changes,r,!1):3===n&&this.setCoordinateValue(this._changes,r,!0)}}}}activeNodes(){return Array.from(this._gridEntries).reduce((t,[,e])=>t+Array.from(e).reduce((t,[,e])=>t+Array.from(e.values()).filter(Boolean).length,0),0)}getNestedValue(t,[e,n,i]){const s=t.get(e);if(!s)return;const a=s.get(n);return a?a.get(i):void 0}setCoordinateValue(t,n,i){const[s,a,o]=n,r=e(t,s,()=>new Map);e(r,a,()=>new Map).set(o,i)}applyCoordinateToMinMaxFields([t,e,n]){this._xMinMax.update(t),this._yMinMax.update(e),this._zMinMax.update(n)}};a.addActivePoint(...s),a.applyChanges();for(let i=0;i<6;i++)a.cycle(),a.applyChanges();return a.activeNodes()}}}]);